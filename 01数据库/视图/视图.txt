1. 什么是视图？
       视图是从一个或几个基本表(或视图)导出的表。它与基本表不同，是一个虚表。
       数据库中只存放视图的定义，而不存放视图对应的数据，这些数据仍存放在原来的基本表中。所以
   一旦基本表中的数据发生变化，从视图中查询出的数据也就随之改变了。
       视图一经定义，就可以和基本表一样被查询、被删除。也可以在一个视图之上再定义新的视图，但
   对视图的更新(增删改)操作则有一定的限制。
   
2. 怎么定义视图
   通用格式为：
      create view 视图名 [(列名1，列名2...)]
	  as 子查询
	  [WITH CHECK OPTION]
	  
   注意:
      (1). 子查询可以是任意的select语句
	  (2). WITH CHECK OPTION表示对视图进行update、insert和delete操作时要保证更新、插入和删除
	       的行满足视图定义中的谓词条件
	  (3). 组成视图的属性列名或者全部省略或者全部指定，没有第三种选择。
	       如果省略了视图的各个属性列名，则隐含该视图由子查询中select子句目标列中的各个字段组
		   成。
		   但在下列三种情况下必须明确指定组成视图的所有列名：
		   a. 某个目标不是单纯的属性名，而是聚集函数或列表达式
		   b. 多表连接时选出了几个同名列作为视图的字段
		   c. 需要在视图中为某个列启用新的更合适的名字
		   
	例1：
	  /* 建立信息系学生的视图，并要求进行修改和插入操作时仍保证该视图只有信息系的学生*/
	  create view IS_Student
	  as 
	  select sno, sname, sage  // 子查询 
	  from student
	  where sdept='IS'
	  WITH CHECK OPTION;
	  
	     由于在定义IS_Student视图时加上了WITH CHECK OPTION子句，以后对该视图进行插入、修改
	  和删除操作时，关系数据库管理系统会自动加上 sdept='IS'的条件。
	  
	例2：
	  /* 定义一个反映学生出生年份的视图*/
	  create view BT_S(sno, sname, sbirth)
	  as 
	  select sno, sname, 2019-sage 
	  from student;
	
	例3:
	  /* 将学生的学号及平均成绩定义为一个视图*/
	  create view S_G(sno, gavg)
	  as
	  select sno, AVG(grade)
	  from sc
	  group by sno;
	  
	  
3. 删除视图
   drop view 视图名 [CASCADE]
   
   注意：
       (1).视图删除后视图的定义将从数据字典中删除。如果该视图上还导出了其他视图，则使用CASCADE级联
           删除语句把该视图和由它导出的所有视图一起删除。
       (2).基本表删除后，由该基本表导出的所有视图均无法使用了，但是视图的定义没有从数据字典中清除，
           删除这些视图定义需要显式使用drop view语句。


4. 查询视图
   和查询基本表基本相同

   
5. 更新视图
   更新视图是指通过视图来插入(insert)、删除(delete)和修改(update)数据。
   
   由于视图是不实际存储数据的虚表，因此对视图的更新最终要转换为对基本表的更新。

   为防止用户通过视图对数据进行增加、删除、修改时，有意无意地对不属于视图范围内的基本表数据
   进行操作，可以在定义视图时加上WITH CHECK OPTION子句，这样在执行这些操作时，关系数据库管理
   系统会检查视图定义中的条件，若不满足条件则拒绝执行该操作。

   例：
     /*将信息系学生视图IS_Student中学号为"201215122"的学生姓名改为"刘晨"*/
     update IS_Student
     set sname='刘晨'
     where sno='201215122'
     转换后的更新语句为
     update student
     set sname='刘晨'
     where sno='201215122' and sdept='IS';

   注意：
     在关系数据库中，并不是所有视图都是可更新的，因为有些视图的更新不能唯一地转换为相应基本
   表的更新。
     DB2中规定了一些情况下，视图不可更新：
     (1). 视图是由两个以上基本表导出的
     (2). 若视图的字段来自字段表达式或常数，则不允许执行insert和update，但允许执行delete
     (3). 视图的字段来自聚集函数
     (4). 视图定义中含有group by子句
     (5). 视图定义中含有distinct短语
     (6). 视图定义中有嵌套查询，并且内层查询的from子句中涉及的表也是导出该视图的基本表
     (7). 一个不允许更新的视图上定义的视图	 
   